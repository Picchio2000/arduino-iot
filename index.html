<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="theme-color" content="#1C1C1E">
    <title>Gestione Caldaia</title>
    <link rel="manifest" href="manifest.json">
    <link rel="icon" type="image/png" href="icon-192.png">
    <link rel="apple-touch-icon" href="icon-512.png">
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.jsdelivr.net/npm/mqtt@5.3.5/dist/mqtt.min.js"></script>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <header class="header">
            <img src="icon-192.png" alt="Caldaia" class="header-icon">
            <h1>Gestione Caldaia</h1>
        </header>

        <!-- Status -->
        <div class="status-bar">
            <div class="status-indicator">
                <span class="status-dot" id="statusDot"></span>
                <span id="status">Connessione...</span>
            </div>
        </div>

        <hr class="divider">

        <!-- Main Content -->
        <div class="content">
            <!-- Reset Button -->
            <section class="card">
                <h2>ðŸ”„ Pulsante Reset</h2>
                <button class="reset-hold-btn" id="resetHoldBtn">
                    Tieni Premuto per Reset
                </button>
                <p class="status-text" id="resetStatus">âšª RelÃ¨: OFF</p>
            </section>

            <!-- Block Monitoring -->
            <section class="card">
                <h2>Monitoraggio Allarme Caldaia in Blocco</h2>
                <div class="block-indicator" id="blockIndicator">
                    <div class="block-status">
                        <span class="block-dot"></span>
                        <span id="blockText">Nessun blocco rilevato</span>
                    </div>
                </div>
                <div class="block-info" id="blockInfo" style="display: none;">
                    <p><strong>Durata:</strong> <span id="blockDuration">0s</span></p>
                </div>
            </section>

            <!-- Stats Link -->
            <section class="card">
                <h2>ðŸ“Š Statistiche Utilizzo</h2>
                <p>Visualizza grafici dettagliati mensili e annuali</p>
                <a href="http://217.154.163.109/stats.html" class="stats-link">Apri Statistiche</a>
            </section>

            <!-- Log -->
            <section class="card">
                <h2>ðŸ“‹ Log AttivitÃ </h2>
                <ul class="log-list" id="logList"></ul>
            </section>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>
